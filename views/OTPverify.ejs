<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="utf-8" />
   <title>Nest Dashboard</title>
   <meta http-equiv="x-ua-compatible" content="ie=edge" />
   <meta name="description" content="" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta property="og:title" content="" />
   <meta property="og:type" content="" />
   <meta property="og:url" content="" />
   <meta property="og:image" content="" />
   <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
   <!-- style css -->
   <link rel="stylesheet" type="text/css" href="css/style.css">
   <!-- Responsive-->
   <link rel="stylesheet" href="css/responsive.css">
   <!-- fevicon -->
   <link rel="icon" href="images/fevicon.png" type="image/gif" />
   <!-- Scrollbar Custom CSS -->
   <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
   <!-- Tweaks for older IEs-->
   <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
   <!-- fonts -->
   <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
   <!-- font awesome -->
   <link rel="stylesheet" type="text/css"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
   <!--  -->
   <!-- owl stylesheets -->
   <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Poppins:400,700&display=swap&subset=latin-ext"
      rel="stylesheet">
   <link rel="stylesheet" href="css/owl.carousel.min.css">
   <link rel="stylesoeet" href="css/owl.theme.default.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css"
      media="screen">
   <!-- Favicon -->
   <link rel="shortcut icon" type="image/x-icon" href="assets/imgs/theme/favicon.svg" />
   <!-- Template CSS -->
   <link href="css/main.css" rel="stylesheet" type="text/css" />
   <link href="css/style.css" rel="stylesheet" type="text/css" />
</head>

<body>
   <main>
      <header class="main-header style-2 navbar bgs">
         <div class="header_section">
            <div class="container">
               <div class="containt_main">
                  <div id="mySidenav" class="sidenav">
                     <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                     <a href="index.html">Home</a>
                     <a href="fashion.html">Fashion</a>
                     <a href="electronic.html">Electronic</a>
                     <a href="jewellery.html">Jewellery</a>
                  </div>
                  <div class="hamberger">

                     <span class="toggle_icon" onclick="openNav()"> <img src="images/toggle-icon.png"
                           class="Myimg"></span>


                  </div>


                  <div class="dropdown drop">
                     <button class="btn btn-secondary dropdown-toggle " type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">All Category
                     </button>
                     <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                     </div>
                  </div>
                  <div class="main">
                     <!-- Another variation with a button -->
                     <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search this blog">
                        <div class="input-group-append">
                           <button class="btn btn-secondary myBtn" type="button"
                              style="background-color: #f26522; border-color:#f26522 ">
                              <i class="fa fa-search"></i>
                           </button>
                        </div>
                     </div>
                  </div>
                  <div class="header_box">

                     <div class="login_menu">
                        <ul>
                           <li><a href="#">
                                 <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                 <span class="padding_10">Cart</span></a>
                           </li>
                           <li><a href="#">
                                 <i class="fa fa-user" aria-hidden="true"></i>
                                 <span class="padding_10">Cart</span></a>
                           </li>
                           <li><a href="#">
                                 <i class="fa fa-user" aria-hidden="true"></i>
                                 <span class="padding_10">Cart</span></a>
                           </li>
                           <li><a href="#">
                                 <i class="fa fa-user" aria-hidden="true"></i>
                                 <span class="padding_10">Cart</span></a>
                           </li>

                        </ul>


                     </div>

                  </div>
                  <div class="Special">
                     <span class="name">Vkart</span>

                  </div>
               </div>
            </div>
         </div>

      </header>
      <section class="content-main mt-80 mb-80">
         <div class="card mx-auto card-login">
            <div class="card-body">
               <h4 class="card-title mb-4">OTP</h4>
               <form id="otpForm" method="post" action="api/verifyotp">
                  <div class="mb-3">
                     <span class="err-msg">
                        <% if(invalid){ %>
                           <p class="errorClass">
                              <%= invalid%>
                           </p>
                           <% } %>
                              <% if(expired){ %>
                                 <p class="errorClass">
                                    <%= expired%>
                                 </p>
                                 <% } %>
                     </span>
                     <input class="form-control" placeholder="OTP" type="number" name="otp" />
                  </div>
                  <div>
                     <button id="sendOTPButton" class=" oBn">Resend otp</button>
                     <p id="timer" style="display: none;"> 30</p>

                     <button id="resendOTPButton" style="display:none;" class=" oBn">Resend otp</button>
                  </div>
                  <!-- form-group// -->

                  <!-- form-group// -->


                  <!-- form-group form-check .// -->
                  <div class="mb-4">
                     <button type="submit" class="btn btn-primary w-100 vBn">Verify</button>
                  </div>
                  <!-- form-group// -->
               </form>

               <p class="text-center mb-4 ">Already have an account? <a href="/login">Login</a></p>
            </div>
         </div>
      </section>
      <footer class="main-footer text-center">
         <p class="font-xs">
            <!-- <script>
                        document.write(new Date().getFullYear());
                         // Mock function to simulate OTP generation and sending
    function sendOTP() {
      // Replace this with your actual OTP generation and sending logic
      alert("OTP sent successfully!");
      
      // Show the resend button and hide the send button
      document.getElementById("resendOTPButton").style.display = "inline-block";
      document.getElementById("sendOTPButton").style.display = "none";
      document.getElementById("otpForm").action = "api/checkotp";
        document.getElementById("otpForm").submit()
    }

    // Mock function to simulate OTP resend
    function resendOTP() {
      // Replace this with your actual OTP resend logic
      alert("OTP resent successfully!");
    }
    function verifyOTP() {
        // Your logic for verifying OTP

        // Change the form action for verifying OTP
        document.getElementById("otpForm").action = "api/verifyotp";
        document.getElementById("otpForm").submit();
    }

                    </script> -->
            <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
            <script>


               $(document).ready(function () {

                  var disableSendOTPButton = localStorage.getItem("disableSendOTPButton")
                  if (disableSendOTPButton === "true") {
                     // Disable the "Send OTP" button
                     $("#sendOTPButton").prop("disabled", true);
                     setTimeout(function () {
                        $("#sendOTPButton").prop("disabled", false);
                     }, 30000);
                     $("#sendOTPButton").css("background-color", "#888888"); // Change to the desired color

                     setTimeout(function () {
                        // Reset the color of the button
                        $("#sendOTPButton").css("background-color", ""); // Reset to the default color or set a specific color
                     }, 30000);

                     // Clear the flag to prevent disabling the button on subsequent visits

                  }
                  $("#sendOTPButton").on("click", function (e) {
                     e.preventDefault(); // Prevent the default form submission

                     // Disable the button
                     $(this).prop("disabled", true);
                     $("#sendOTPButton").css("background-color", "#888888");

                     // Set a timeout to enable the button after 30 seconds
                     setTimeout(function () {
                        $("#sendOTPButton").prop("disabled", false);
                        $("#sendOTPButton").css("background-color", "");
                     }, 30000);

                     // Make an AJAX request to the server
                     $.ajax({
                        type: "POST",
                        url: "/api/checkotp", // Update the URL as needed
                        success: function (response) {
                           alert("OTP sent successfully!");
                           console.log(response.message);
                        },
                        error: function (error) {
                           console.error("Error:", error);
                        },

                     });
                  });
               });
            </script>

            &copy; Nest - HTML Ecommerce Template .
         </p>
         <p class="font-xs mb-30">All rights reserved</p>
      </footer>
   </main>
   <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
   <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
   <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
   <!-- Main Script -->
   <script src="assets/js/main.js?v=1.1" type="text/javascript"></script>
   <script src="js/jquery.min.js"></script>
   <script src="js/popper.min.js"></script>
   <script src="js/bootstrap.bundle.min.js"></script>
   <script src="js/jquery-3.0.0.min.js"></script>
   <script src="js/plugin.js"></script>
   <script src="js/otp.js"></script>

   <!-- sidebar -->
   <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
   <script src="js/custom.js"></script>
   <script>
      function openNav() {
         document.getElementById("mySidenav").style.width = "250px";
      }

      function closeNav() {
         document.getElementById("mySidenav").style.width = "0";
      }
   </script>
</body>

</html>